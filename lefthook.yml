remote:
  git_url: git@github.com:nachtjasmin/githooks
pre-commit:
  parallel: true
  commands:
    bump_versions:
      glob: "**/PKGBUILD"
      stage_fixed: true
      run: |
        sd "pkgver=.+" "pkgver=$(date '+%Y.%m.%d')+$(git rev-parse --short HEAD)" {staged_files}
    update_srcinfo:
      glob: "**/PKGBUILD"
      run: |
        for f in {staged_files}; do
          pushd $(dirname $f)
          makepkg --printsrcinfo > .SRCINFO
          git add .SRCINFO
          popd
        done
    format_fish_scripts:
      stage_fixed: true
      glob: "{*.fish,dot_local/bin/*}"
      run: fish_indent --write {staged_files}
